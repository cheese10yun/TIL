# 스프링 시큐리티

## 용어 정리

### 인증

`인증`은 `주체`의 `신원`을 증명하는 괒어입니다. 주장을 거믕하는 과정입니다. 여기서 주체란 유저, 기기, 시스템 등이 될 수 있지만 보통은 유저(사용자)를 의미합니다. 주체는 자신을 인증해달라고 신원 증며 정보, `크리덴셜`을 제시합니다. 주처게 유저일 경우는 크레딘션은 대게 패스워드 입니다.

### 인가
`인가`(권하부여)는 인증을 마친 유저에게 권한을 부여하여 대상 애플리케이션의 특정 리소스에 접근할 수 있게 허가해주는 과정입니다. **인가는 반드시 인증과정 이후에 수행돼야 하며 권한은 롤 형태로 부여되는 게 일반적입니다.**

### 접근 통제(접근 제어)
애플리케이션 리소스에 접근하는 행위를 제어하는 일입니다. 따라서 어떤 유저가 어떤 리소스에 접근하도록 허락할지 결정하는 행위 즉 `접근 통제 결정`이 뒤 따릅니다. 리소스의 접근 속성과 유저에게 부여된 권한 또는 다른 속성들을 견주어 설정합니다.


스프링은 `WebSecurityConfigurerAdater`라는 구성 어댑터에 준비된 다양한 `configure()`메서드를 이용하면 웹 애플리케이션 보안을 쉽게 구성할 수 있습니다. 

* 폼 기반 로그인 서비스 : 유저가 애플리케이션 로그인하는 기본 폼 페이지를 제공합니다.
* HTTP 기본 인증: 요청 헤더에 표시된 HTTP 기본 인증 크레덴션을 처리합니다. 원격 프로토컬, 웹 서비스를 이용해 인증 요청을 할 때에도 쓰입니다.
* 로그아웃 서비스 : 유저를 로그아웃 시키는 핸들러는 기본 제공합니다.
* 익명 로그인 : 익명 유저도 주체를 할당하고 권한을 부여해서 마치 일반 유저처럼 처리합니다.
* 서블릿 API 연계 : `HttpServletRequest.isUserInRole()`, `HttpServletRequest.getUserPrincipal()` 같은 표준 서블릿 API를 이용해 웹애플리케이션 위치한 보안 정보에 접근합니다.
* CSRF : 사이트 간 요청 위조 방어용 토큰을 생성해 HttpSession에 넣습니다.
* 보안 헤더 : 보안이 적용된 패키지에 대해서 캐시를 해제하는 식으로 XSS 방어, 전송 보안, X-Frame 보안 기능을 제공합니다.


## 참고
  * [스프링5 레시피](http://www.hanbit.co.kr/store/books/look.php?p_code=B3859466837)